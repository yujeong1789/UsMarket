<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.mybatis.mapper.adminReport">
	<select id="searchReportList" parameterType="map" resultType="map">
		SELECT *
		FROM ( SELECT rownum AS num, A.*
				FROM (	SELECT r.report_no, r.report_regdate, r.report_complete
							,( SELECT c1.report_category1_name FROM report_category1 c1
							   WHERE c1.report_category1_no = r.report_category1_no
							 )||' | '||
							 ( SELECT c2.report_category2_name FROM report_category2 c2
							   WHERE c2.report_category1_no = r.report_category1_no AND c2.report_category2_no = r.report_category2_no
							 ) AS report_title
						FROM report r
						ORDER BY report_regdate DESC
					 ) A
			 )
		WHERE num BETWEEN #{startPage} AND #{endPage}
	</select>
	
	<select id="searchQnaList" parameterType="map" resultType="map">
		SELECT *
		FROM ( SELECT rownum AS num, A.*
				FROM (	SELECT qna_no, qna_title, qna_complete, qna_regdate
						FROM qna
						ORDER BY qna_regdate DESC
					 ) A
			 )
		WHERE num BETWEEN #{startPage} AND #{endPage}
	</select>
</mapper>